# DittoFS Configuration for SMB Conformance Testing
# Profile: postgres/s3
#
# Bootstrap creates: PostgreSQL metadata store + S3 payload store (via Localstack)
# Stores, shares, and adapters are managed via the API (bootstrap.sh).
# Requires both the postgres and s3 Compose profiles to be active.

logging:
  level: "DEBUG"
  format: "text"
  output: "stdout"

shutdown_timeout: 30s

# Control plane database (this is the control plane DB, NOT the metadata store)
database:
  type: sqlite
  sqlite:
    path: "/data/controlplane.db"

# Control plane API server
controlplane:
  port: 8080
  jwt:
    secret: "smb-conformance-test-secret-key-32ch"
    access_token_duration: 15m
    refresh_token_duration: 168h

# Cache configuration
cache:
  path: "/data/cache"
  size: "256MB"
