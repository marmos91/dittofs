apiVersion: dittofs.dittofs.com/v1alpha1
kind: DittoServer
metadata:
  labels:
    app.kubernetes.io/name: dittofs-operator
    app.kubernetes.io/managed-by: kustomize
  name: dittoserver-sample
spec:
  image: dittofs/dittofs:latest
  replicas: 1
  
  storage:
    metadataSize: "10Gi"
    contentSize: "50Gi"
  
  config:
    backends:
      - name: "badger-metadata"
        type: "badger"
        config:
          path: "/data/metadata"
      
      - name: "local-content"
        type: "local"
        config:
          path: "/data/content"
    
    shares:
      - name: "export-share"
        exportPath: "/export"
        metadataStore: "badger-metadata"
        contentStore: "local-content"
  
  service:
    type: "ClusterIP"
